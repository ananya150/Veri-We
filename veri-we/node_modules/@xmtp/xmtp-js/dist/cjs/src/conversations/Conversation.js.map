{"version":3,"file":"Conversation.js","sourceRoot":"","sources":["../../../../src/conversations/Conversation.ts"],"names":[],"mappings":"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"}